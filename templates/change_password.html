{% extends "base.html" %}
{% block title %}ðŸ”’ ØªØºÙŠÙŠØ± ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±{% endblock %}

{% block content %}
<div class="flex justify-center items-center py-10 px-4">
  <div class="w-full max-w-md bg-white dark:bg-gray-800 rounded-3xl shadow-xl p-8">
    
    <!-- Ø§Ù„Ø¹Ù†ÙˆØ§Ù† -->
    <div class="text-center mb-6">
      <h2 class="text-2xl font-bold text-primary mb-2">ðŸ”’ ØªØºÙŠÙŠØ± ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±</h2>
      <p class="text-gray-600 dark:text-gray-300 text-sm">ÙŠØ±Ø¬Ù‰ Ø¥Ø¯Ø®Ø§Ù„ ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± Ø§Ù„Ø­Ø§Ù„ÙŠØ© ÙˆØ§Ù„Ø¬Ø¯ÙŠØ¯Ø©.</p>
    </div>

    <!-- Ø§Ù„ØªÙ†Ø¨ÙŠÙ‡Ø§Øª -->
    {% with messages = get_flashed_messages(with_categories=true) %}
      {% if messages %}
        {% for category, message in messages %}
          <div class="mb-4 px-4 py-3 rounded-lg text-sm font-medium
            {% if category == 'danger' %} bg-red-100 text-red-700 dark:bg-red-900 dark:text-red-200
            {% elif category == 'success' %} bg-green-100 text-green-700 dark:bg-green-900 dark:text-green-200
            {% else %} bg-blue-100 text-blue-700 dark:bg-blue-900 dark:text-blue-200 {% endif %}">
            {{ message }}
          </div>
        {% endfor %}
      {% endif %}
    {% endwith %}

    <!-- Ø§Ù„Ù†Ù…ÙˆØ°Ø¬ -->
    <form method="POST" class="space-y-5">
      
      <div>
        <label class="block mb-1 font-semibold">ðŸ”‘ ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± Ø§Ù„Ø­Ø§Ù„ÙŠØ©</label>
        <input type="password" name="current_password" required
          placeholder="â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢"
          class="w-full rounded-xl border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 
                 px-4 py-3 shadow-sm focus:ring-2 focus:ring-primary focus:outline-none text-sm sm:text-base" />
      </div>

      <div>
        <label class="block mb-1 font-semibold">ðŸ†• ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø©</label>
        <input type="password" name="new_password" required
          placeholder="â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢"
          class="w-full rounded-xl border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 
                 px-4 py-3 shadow-sm focus:ring-2 focus:ring-primary focus:outline-none text-sm sm:text-base" />
      </div>

      <div>
        <label class="block mb-1 font-semibold">âœ… ØªØ£ÙƒÙŠØ¯ ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø©</label>
        <input type="password" name="confirm_password" required
          placeholder="â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢"
          class="w-full rounded-xl border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 
                 px-4 py-3 shadow-sm focus:ring-2 focus:ring-primary focus:outline-none text-sm sm:text-base" />
      </div>

      <div class="text-center">
        <button type="submit"
          class="w-full bg-primary text-white hover:bg-primary-dark transition px-6 py-3 
                 rounded-xl text-lg font-semibold shadow-md">
          ðŸ”„ ØªØ­Ø¯ÙŠØ« ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±
        </button>
      </div>
    </form>

  </div>
</div>
{% endblock %}