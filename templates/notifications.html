{% extends 'base.html' %}  
{% block title %}ÿßŸÑÿ•ÿ¥ÿπÿßÿ±ÿßÿ™{% endblock %}  

{% block content %}  
<div class="max-w-xl mx-auto py-8 px-4">  
  <!-- ÿßŸÑÿπŸÜŸàÿßŸÜ -->
  <h2 class="text-xl font-bold text-center mb-6 text-gray-800 dark:text-white">üîî ÿßŸÑÿ•ÿ¥ÿπÿßÿ±ÿßÿ™</h2>  

  {% if notifications %}  
    <div class="space-y-3">  
      {% for n in notifications %}  
        <div class="bg-white dark:bg-gray-900 border border-gray-200 dark:border-gray-700 rounded-2xl shadow-sm overflow-hidden transition hover:shadow-md {% if not n.is_read %}ring-2 ring-blue-400{% endif %}">  
            
          <!-- ÿ±ÿßÿ®ÿ∑ ÿßŸÑÿ™Ÿàÿ¨ŸäŸá -->  
          <a href="{{ n.link }}"  
             class="flex items-center gap-3 no-underline hover:bg-gray-50 dark:hover:bg-gray-800 p-3 transition">  

            <!-- ÿµŸàÿ±ÿ© ÿßŸÑŸÖÿ±ÿ≥ŸÑ -->
            <img src="{{ url_for('static', filename='profile_pics/' + (n.sender_image or 'default.jpg')) }}"  
                 alt="ÿµŸàÿ±ÿ©"  
                 class="w-10 h-10 rounded-full object-cover border border-gray-300 dark:border-gray-600 shadow-sm">  

            <!-- ŸÖÿ≠ÿ™ŸàŸâ ÿßŸÑÿ•ÿ¥ÿπÿßÿ± -->  
            <div class="flex-1 min-w-0">  
              <p class="text-sm text-gray-800 dark:text-gray-100 truncate flex items-center gap-2">
                
                <!-- SVG ÿ≠ÿ≥ÿ® ŸÜŸàÿπ ÿßŸÑÿ•ÿ¥ÿπÿßÿ± -->
                {% if n.type == 'like' %}
                  <!-- ŸÇŸÑÿ® (ŸÑÿßŸäŸÉ ÿ®Ÿäÿ™ ÿ¥ÿπÿ±Ÿä) -->
                  <svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor" class="text-red-500 shrink-0">
                    <path d="M12 21s-6.716-4.508-9.428-7.22A6.5 6.5 0 1 1 12 5.08a6.5 6.5 0 1 1 9.428 8.7C18.716 16.492 12 21 12 21z"/>
                  </svg>
                {% elif n.type == 'like_story' %}
                  <!-- ŸÇŸÑÿ® ŸÖÿπ ŸÑŸÖÿπÿ© (ŸÑÿßŸäŸÉ ŸÇÿµÿ©) -->
                  <svg width="16" height="16" viewBox="0 0 24 24" class="shrink-0">
                    <g fill="none" stroke="currentColor" stroke-width="1.5" class="text-pink-500">
                      <path d="M12 21s-6.716-4.508-9.428-7.22A6.5 6.5 0 0 1 12 5.08a6.5 6.5 0 0 1 9.428 8.7C18.716 16.492 12 21 12 21Z"/>
                      <path d="M18.5 4.5 19 3l1.5-.5L19 2l-.5-1.5L18 2l-1.5.5L18 3l.5 1.5Z"/>
                    </g>
                  </svg>
                {% elif n.type == 'follow' %}
                  <!-- ŸÖÿ™ÿßÿ®ÿπÿ© -->
                  <svg width="16" height="16" viewBox="0 0 24 24" class="text-blue-500 shrink-0" fill="none" stroke="currentColor" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round">
                    <path d="M16 21v-2a4 4 0 0 0-4-4H7a4 4 0 0 0-4 4v2"/>
                    <circle cx="9" cy="7" r="4"/>
                    <path d="M17 8h5M19.5 5.5v5"/>
                  </svg>
                {% elif n.type == 'comment' %}
                  <!-- ÿ™ÿπŸÑŸäŸÇ -->
                  <svg width="16" height="16" viewBox="0 0 24 24" class="text-green-600 shrink-0" fill="none" stroke="currentColor" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round">
                    <path d="M21 15a4 4 0 0 1-4 4H8l-5 4V7a4 4 0 0 1 4-4h10a4 4 0 0 1 4 4z"/>
                  </svg>
                {% elif n.type == 'follow_request' %}
                  <!-- ÿ∑ŸÑÿ® ŸÖÿ™ÿßÿ®ÿπÿ© -->
                  <svg width="16" height="16" viewBox="0 0 24 24" class="text-yellow-500 shrink-0" fill="none" stroke="currentColor" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round">
                    <path d="M16 21v-2a4 4 0 0 0-4-4H7a4 4 0 0 0-4 4v2"/>
                    <circle cx="9" cy="7" r="4"/>
                    <path d="M18 8h3M19.5 9.5v-3"/>
                  </svg>
                {% else %}
                  <!-- ÿ•ÿ¨ÿ±ÿßÿ° ÿπÿßŸÖ -->
                  <svg width="16" height="16" viewBox="0 0 24 24" class="text-gray-400 shrink-0" fill="none" stroke="currentColor" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round">
                    <path d="M12 20h9"/>
                    <path d="M16.5 3.5a2.121 2.121 0 1 1 3 3L7 19l-4 1 1-4Z"/>
                  </svg>
                {% endif %}

                <span class="truncate">
                  <strong>{{ n.sender }}</strong>
                  {% if n.type == 'like' %}  
                    <span class="text-red-500">ÿ£ÿπÿ¨ÿ®</span> ÿ®ÿ®Ÿäÿ™ŸÉ ÿßŸÑÿ¥ÿπÿ±Ÿä  
                  {% elif n.type == 'like_story' %}  
                    <span class="text-pink-500">ÿ£ÿπÿ¨ÿ®</span> ÿ®ŸÇÿµÿ™ŸÉ ‚ù§Ô∏è
                  {% elif n.type == 'follow' %}  
                    <span class="text-blue-500">ÿ®ÿØÿ£</span> ÿ®ŸÖÿ™ÿßÿ®ÿπÿ™ŸÉ  
                  {% elif n.type == 'comment' %}  
                    <span class="text-green-500">ÿπŸÑŸÇ</span> ÿπŸÑŸâ ÿ£ÿ≠ÿØ ÿ£ÿ®Ÿäÿßÿ™ŸÉ  
                  {% elif n.type == 'follow_request' %}  
                    <span class="text-yellow-500">ÿ∑ŸÑÿ®</span> ŸÖÿ™ÿßÿ®ÿπÿ™ŸÉ  
                  {% else %}  
                    ŸÇÿßŸÖ ÿ®ÿ•ÿ¨ÿ±ÿßÿ° ÿ¨ÿØŸäÿØ  
                  {% endif %}
                </span>
              </p>  
              <p class="text-xs text-gray-500 dark:text-gray-400 mt-1">{{ n.time_ago }}</p>  
            </div>  
          </a>  

          <!-- ÿ£ÿ≤ÿ±ÿßÿ± ŸÇÿ®ŸàŸÑ/ÿ±ŸÅÿ∂ ÿ∑ŸÑÿ® ÿßŸÑŸÖÿ™ÿßÿ®ÿπÿ© -->  
          {% if n.type == 'follow_request' %}  
            <form method="POST" action="{{ url_for('handle_follow_request') }}" class="flex justify-end gap-2 px-3 pb-3">  
              <input type="hidden" name="notif_id" value="{{ n.id }}">  
              <button name="action" value="accept"  
                      class="px-3 py-1 text-xs font-medium bg-green-500 text-white rounded-full hover:bg-green-600 transition">  
                ‚úÖ ŸÇÿ®ŸàŸÑ  
              </button>  
              <button name="action" value="reject"  
                      class="px-3 py-1 text-xs font-medium bg-red-500 text-white rounded-full hover:bg-red-600 transition">  
                ‚ùå ÿ±ŸÅÿ∂  
              </button>  
            </form>  
          {% endif %}  
        </div>  
      {% endfor %}  
    </div>  
  {% else %}  
    <div class="mt-6 text-center text-gray-600 dark:text-gray-300 bg-gray-100 dark:bg-gray-800 p-5 rounded-2xl shadow-sm text-sm">  
      ŸÑÿß ÿ™Ÿàÿ¨ÿØ ÿ•ÿ¥ÿπÿßÿ±ÿßÿ™ ÿ≠ÿßŸÑŸäŸãÿß.  
    </div>  
  {% endif %}  
</div>  
{% endblock %}